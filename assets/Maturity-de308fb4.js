import{r as T,j as c}from"./index-1938e1ff.js";import{C as z,b as W,L as Z,B as X,A as Q,d as q,p as J,a as ee,n as ae,o as te}from"./eReadinessSurveyData-05312036.js";z.register(W,Z,X,Q,q,J,ee);const b=({title:g,percentage:I,barData:l,maxBarValue:O=100,colSpan:u=1})=>{const y={datasets:[{data:[I,100-I],backgroundColor:["#0036C5","#ECC217"],borderWidth:0,circumference:180,rotation:270}]},N={cutout:"65%",plugins:{legend:{display:!1},tooltip:{enabled:!1}},maintainAspectRatio:!1},D={labels:l.labels,datasets:[{data:l.values,backgroundColor:l.colors,borderWidth:0,borderRadius:2}]},d=Math.max(l.labels.length*25,100),M={indexAxis:"y",responsive:!0,scales:{x:{max:O,beginAtZero:!0,grid:{display:!1},ticks:{font:{size:8}}},y:{grid:{display:!1},ticks:{font:{size:8},callback:function(p,f){const h=l.labels[f];return h.length>20?h.substr(0,20)+"...":h}}}},plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{title:p=>l.labels[p[0].dataIndex]}}},maintainAspectRatio:!1},m=`col-span-1 md:col-span-${u}`;return c.jsxs("div",{className:`bg-white ${m} p-2 rounded-lg border border-border flex flex-col`,children:[c.jsx("h3",{className:"text-center text-xs font-medium mb-2",children:g}),c.jsxs("div",{className:"relative h-24 flex justify-center mb-2",children:[c.jsx("div",{className:"w-full h-full",children:c.jsx(ae,{data:y,options:N})}),c.jsxs("div",{className:"absolute bottom-2 text-base font-bold",children:[I.toFixed(2),"%"]})]}),c.jsx("div",{className:"mt-2",style:{height:`${d}px`},children:c.jsx(te,{data:D,options:M})})]})},le=({data:g,chartColors:I=["#0036C5","#ECC217"],cardLayouts:l={digitalSkills:{title:"DIGITAL SKILLS ASSESSMENT",colSpan:1},tri:{title:"LGU Office Employee's Technology Readiness Index",colSpan:1},ictChange:{title:"ICT Change Management",colSpan:1},itReadiness:{title:"IT Readiness Assessment",colSpan:1}},gridColsBase:O})=>{var G,_,$,x,P,L,U,j;const[u,y]=T.useState({labels:[],values:[],percentage:0}),[N,D]=T.useState({labels:[],values:[],percentage:0}),[d,M]=T.useState({labels:[],values:[],percentage:0}),[m,p]=T.useState({labels:[],values:[],percentage:0});T.useEffect(()=>{V(),H(),F(),Y()},[g]);const f=()=>{const r=["Mayors Office","Other Offices","HR Office","IT Office"],s=[];Object.keys(g).forEach(a=>{r.includes(a)&&g[a]&&Array.isArray(g[a])&&s.push(...g[a])});let t=0,n=0;return s.forEach(a=>{a["OFFICE SELECTION"]==="MIS/IT"&&[Number(a["BASIC IT READINESS 1"])||0,Number(a["BASIC IT READINESS 2"])||0,Number(a["BASIC IT READINESS 3"])||0,Number(a["BASIC IT READINESS 4"])||0].forEach(i=>{i>0&&(t+=i,n++)})}),console.log("Change Readiness Sum:",t),console.log("Change Readiness Count:",n),console.log("Change Readiness Score:",t/(n*5)*100),s},v=r=>{const s=r.filter(t=>t!=null);return s.length?s.reduce((t,n)=>t+n,0)/s.length:0},h=r=>{if(r.length===0)return 0;const t=r.length*5;return r.reduce((a,e)=>a+e,0)/t*100},V=()=>{const r=["Basic computer skill","Basic Internet searching","General computer or office productivity software use","Use of collaborative platforms","Use of communication apps","Use of social media","Content creation","Cybersecurity awareness","Programming, web, and app dev...","Digital design and data vi..."],s=f();if(s.length===0){console.error("No office data found");return}const t=Array.from({length:10},(a,e)=>{const i=`Question ${e+1} DigitalSkillsAssessment`,A=s.map(E=>Number(E[i]||0)).filter(E=>!isNaN(E)),o=A.reduce((E,S)=>E+S,0),R=A.length*5;return o/R*100}),n=v(t);y({labels:r,values:t,percentage:n})},H=()=>{const r=f();if(r.length===0){console.error("No office data found");return}const s=(A,o)=>{const R=r.flatMap(S=>Array.from({length:o},(B,w)=>{const K=`${A} ${w+1}`;return Number(S[K]||0)})).filter(S=>!isNaN(S)),k=R.reduce((S,B)=>S+B,0),E=R.length*5;return k/E*100},t=s("Optimism",10),n=s("Innovativeness",7),a=s("Discomfort",10),e=s("Insecurity",9),i=(t+n+a+e)/4;D({labels:["OPTIMISM","INNOVATIVENESS","DISCOMFORT","INSECURITY"],values:[t,n,a,e],percentage:i})},F=()=>{const r=f();if(r.length===0){console.error("No office data found");return}const s={"BASIC IT READINESS":Array.from({length:4},(a,e)=>`BASIC IT READINESS ${e+1}`),"IT GOVERNANCE":Array.from({length:3},(a,e)=>`IT GOVERNANCE FRAMEWORK & POLICIES ${e+1}`),"IT STRATEGY":Array.from({length:3},(a,e)=>`IT STRATEGY AND ALIGNMENT ${e+1}`),"IT POLICIES":Array.from({length:3},(a,e)=>`IT POLICIES AND PROCEDURES ${e+1}`),"RISK MANAGEMENT":Array.from({length:3},(a,e)=>`RISK MANAGEMENT ${e+1}`),"PERFORMANCE MEASUREMENT":Array.from({length:3},(a,e)=>`IT PERFORMANCE MEASUREMENT AND REPORTING ${e+1}`),"IT INVESTMENT MANAGEMENT":Array.from({length:3},(a,e)=>`IT INVESTMENT MANAGEMENT ${e+1}`),"VENDOR MANAGEMENT":Array.from({length:3},(a,e)=>`VENDOR MANAGEMENT ${e+1}`),"IT SECURITY":Array.from({length:3},(a,e)=>`IT SECURITY AND COMPLIANCE ${e+1}`),"ICT ORGANIZATION":Array.from({length:3},(a,e)=>`ICT Organizational Structure and Skills ${e+1}`),"AUDIT & ASSURANCE":Array.from({length:3},(a,e)=>`Audit and Assurance ${e+1}`),NETWORK:Array.from({length:2},(a,e)=>`Network Infrastructure ${e+1}`),STORAGE:Array.from({length:3},(a,e)=>`Servers and Storage ${e+1}`),VIRTUALIZATION:Array.from({length:3},(a,e)=>`Virtualization ${e+1}`),BACKUP:Array.from({length:3},(a,e)=>`Data Backup and Recovery ${e+1}`),"SCALABILITY & ELASTICITY":Array.from({length:3},(a,e)=>`Scalability and Elasticity ${e+1}`),"SECURITY MEASURES":Array.from({length:4},(a,e)=>`Security Measures ${e+1}`),MONITORING:Array.from({length:3},(a,e)=>`Monitoring and Performance ${e+1}`),COMPLIANCE:Array.from({length:3},(a,e)=>`Compliance and Governance ${e+1}`),INTEGRATION:Array.from({length:3},(a,e)=>`Integration and Interoperability ${e+1}`),"DISASTER RECOVERY":Array.from({length:3},(a,e)=>`Disaster Recovery and Business Continuity ${e+1}`)},t=Object.entries(s).map(([a,e])=>{const i=[];return e.forEach(A=>{r.forEach(o=>{o&&o[A]!==void 0&&o[A]!==null&&i.push(parseFloat(o[A])||0)})}),{category:a,score:h(i)}}),n=t.reduce((a,e)=>a+e.score,0)/t.length;p({labels:t.map(a=>a.category),values:t.map(a=>a.score),percentage:n})},Y=()=>{const r=f();if(r.length===0){console.error("No office data found");return}const s={"CHANGE READINESS":Array.from({length:3},(a,e)=>`CHANGE READINESS ${e+1}`),"CHANGE LEADERSHIP":Array.from({length:2},(a,e)=>`CHANGE LEADERSHIP ${e+1}`),"CHANGE COMMUNICATION":Array.from({length:3},(a,e)=>`CHANGE COMMUNICATION ${e+1}`),"IMPACT ASSESSMENT":Array.from({length:3},(a,e)=>`CHANGE IMPACT ASSESSMENT ${e+1}`),"STAKEHOLDER ENGAGEMENT":Array.from({length:3},(a,e)=>`STAKEHOLDER ENGAGEMENT ${e+1}`),"PLANNING & EXECUTION":Array.from({length:3},(a,e)=>`CHANGE PLANNING AND EXECUTION ${e+1}`),TRAINING:Array.from({length:3},(a,e)=>`TRAINING AND DEVELOPMENT ${e+1}`),"RESISTANCE MANAGEMENT":Array.from({length:3},(a,e)=>`Resistance Management ${e+1}`),EVALUATION:Array.from({length:3},(a,e)=>`Evaluation and Continuous Improvement ${e+1}`),SUSTAINABILITY:Array.from({length:3},(a,e)=>`Sustainability and Embedding ${e+1}`),FINANCIAL:Array.from({length:5},(a,e)=>`Costs or Financial ${e+1}`)},t=Object.entries(s).map(([a,e])=>{const i=[];return e.forEach(A=>{r.forEach(o=>{o&&o[A]!==void 0&&o[A]!==null&&i.push(parseFloat(o[A])||0)})}),{category:a,score:h(i)}}),n=t.reduce((a,e)=>a+e.score,0)/t.length;M({labels:t.map(a=>a.category),values:t.map(a=>a.score),percentage:n})},C=r=>Array(r).fill(0).map((s,t)=>t%2===0?I[0]:I[1]);return c.jsxs("div",{className:`grid grid-cols-${O} md:grid-cols-1  gap-4`,children:[c.jsx(b,{title:((G=l.digitalSkills)==null?void 0:G.title)||"DIGITAL SKILLS ASSESSMENT",percentage:u.percentage,barData:{labels:u.labels,values:u.values,colors:C(u.labels.length)},colSpan:((_=l.digitalSkills)==null?void 0:_.colSpan)||1}),c.jsx(b,{title:(($=l.tri)==null?void 0:$.title)||"LGU Office Employee's Technology Readiness Index",percentage:N.percentage,barData:{labels:N.labels,values:N.values,colors:C(N.labels.length)},colSpan:((x=l.tri)==null?void 0:x.colSpan)||1}),c.jsx(b,{title:((P=l.ictChange)==null?void 0:P.title)||"ICT Change Management",percentage:d.percentage,barData:{labels:d.labels,values:d.values,colors:C(d.labels.length)},colSpan:((L=l.ictChange)==null?void 0:L.colSpan)||1}),c.jsx(b,{title:((U=l.itReadiness)==null?void 0:U.title)||"IT Readiness Assessment",percentage:m.percentage,barData:{labels:m.labels,values:m.values,colors:C(m.labels.length)},maxBarValue:100,colSpan:((j=l.itReadiness)==null?void 0:j.colSpan)||1})]})};export{le as D};
