import{a as le,b as oe,r as w,j as e}from"./index-1938e1ff.js";import{C as ie,b as ce,L as de,P as me,c as Ne,d as fe,p as ue,a as he,D as y,f as Ae}from"./eReadinessSurveyData-05312036.js";ie.register(ce,de,me,Ne,fe,ue,he);function xe(){const{lguName:a}=le(),s=oe(),[l,I]=w.useState(null),[v,R]=w.useState(0),[S,G]=w.useState("About"),[p,L]=w.useState([]),[f,q]=w.useState(null),[x,M]=w.useState({}),[n,z]=w.useState("DIGITAL SKILLS ASSESSMENT"),[F,B]=w.useState([]),[U,ee]=w.useState("All Offices");w.useEffect(()=>{var u,m;(u=s.state)!=null&&u.score&&R(s.state.score);const o=a||((m=s.state)==null?void 0:m.lguName);if(o&&y){const d=y.Info.find(c=>{var h;return((h=c["LGU Name"])==null?void 0:h.toUpperCase())===o.toUpperCase()}),i=y["Mayors Office"].find(c=>{var h;return((h=c["LGU Name"])==null?void 0:h.toUpperCase())===o.toUpperCase()});if(d){I({...d,...i});const c=ge(o,["Mayors Office","Other Offices","HR Office","IT Office"]);c&&(q(c),R(c.totalScore),M(c.componentScores),console.log("Component Scores:",c.componentScores.digitalSkills));const h=["Mayor's Office","HR Office","IT Office"],C=y["Other Offices"].filter($=>{var P;return((P=$["LGU Name"])==null?void 0:P.toUpperCase())===o.toUpperCase()}),O=[...new Set(C.map($=>$["Office Name"]))];B(["All Offices",...h,...O])}}},[a,s]);function r(o){switch(o){case"DIGITAL SKILLS ASSESSMENT":return x.digitalSkills;case"TECHNOLOGY READINESS INDEX":return x.techReadiness;case"IT READINESS ASSESSMENT":return x.itReadiness;case"ICT CHANGE MANAGEMENT":return x.changeManagement}}if(!l)return e.jsx("div",{className:"min-h-full w-full flex items-center justify-center",children:e.jsx("div",{className:"p-5 w-[95%] flex flex-col bg-card/25 border border-border rounded-lg",children:e.jsx("h1",{className:"py-4 px-2 text-center font-bold text-xl border text-[#0036C5] border-[#0036C5]",children:"LGU Information Not Found"})})});const t=o=>{if(o==="All Offices")return g();const u=o==="Mayor's Office"?"Mayors Office":o;let m;if(["Mayor's Office","HR Office","IT Office"].includes(o)){let c=y[u];c=c==null?void 0:c.find(C=>{var O,$;return((O=C["LGU Name"])==null?void 0:O.toUpperCase())===(($=l["LGU Name"])==null?void 0:$.toUpperCase())})}else m=y["Other Offices"].find(c=>{var h,C;return((h=c["LGU Name"])==null?void 0:h.toUpperCase())===((C=l["LGU Name"])==null?void 0:C.toUpperCase())&&c["Office Name"]===o});if(!m)return g();let d=[],i=[];switch(n){case"DIGITAL SKILLS ASSESSMENT":d=k[0].data,i=d.map((c,h)=>{const C=`Question ${h+1} DigitalSkillsAssessment`,O=m[C]||0;return Number(O)/5*100});break;case"TECHNOLOGY READINESS INDEX":d=k[1].data,i=d.map(c=>{var $;const h=c.split(" ")[0],C=parseInt((($=c.match(/\((\d+) questions\)/))==null?void 0:$[1])||"0");let O=0;for(let P=1;P<=C;P++){const Z=`${h} ${P}`;O+=Number(m[Z]||0)}return O/(C*5)*100});break;default:return g()}return{labels:d,datasets:[{label:`${n} - ${o}`,data:i,borderColor:"#0036C5",backgroundColor:"rgba(0, 54, 197, 0.1)",tension:.4}]}},g=()=>{let o=[],u=[];switch(n){case"DIGITAL SKILLS ASSESSMENT":o=k[0].data,u=f.digitalSkills.scores.map(m=>m.score);break;case"TECHNOLOGY READINESS INDEX":o=k[1].data,u=f.technologyReadiness.categories.map(m=>m.average);break;case"IT READINESS ASSESSMENT":o=k[2].data,u=f.itReadiness.categories.map(m=>m.score);break;case"ICT CHANGE MANAGEMENT":o=k[3].data,u=f.changeManagement.categories.map(m=>m.score);break}return{labels:o,datasets:[{label:n,data:u,borderColor:"#0036C5",backgroundColor:"rgba(0, 54, 197, 0.1)",tension:.4}]}},b=()=>{var u,m;if(!f)return null;const o=U==="All Offices"?g():t(U);return e.jsxs("div",{className:"space-y-4  w-full",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsx("label",{className:"font-medium",children:"Select Assessment:"}),e.jsx("select",{value:n,onChange:d=>{z(d.target.value),ee("All Offices")},className:"border rounded-md p-2",children:k.map(d=>e.jsx("option",{value:d.title,children:d.title},d.title))})]}),e.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:e.jsxs("div",{className:"w-full grid grid-cols-2 md:grid-cols-1 gap-5 order-1 md:order-2",children:[e.jsxs("div",{className:" col-span-1",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold",children:[n," Score"]}),e.jsx("p",{className:"text-sm text-gray-600",children:U==="All Offices"?"Average across all offices":`For ${U}`})]}),e.jsxs("div",{className:"relative w-24 h-24 ",children:[e.jsxs("svg",{className:"w-full h-full md:hidden transform -rotate-90",children:[e.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:"#eee",strokeWidth:"8"}),e.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:r(n)>=80?"#10B981":r(n)>=60?"#0036C5":r(n)>=40?"#FBBF24":"#EF4444",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${r(n)/100*251.2} 251.2`})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-2xl font-bold",style:{color:r(n)>=80?"#10B981":r(n)>=60?"#0036C5":r(n)>=40?"#FBBF24":"#EF4444"},children:[(u=r(n))==null?void 0:u.toFixed(1),"%"]})})]})]}),e.jsxs("div",{className:"w-full  order-2 md:order-1",children:[e.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Detailed Scores"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2  gap-4  overflow-y-auto pr-2",children:(m=k.find(d=>d.title===n))==null?void 0:m.data.map((d,i)=>{var O,$,P,Z,se,te,re,ae;let c=0,h=[];switch(n){case"DIGITAL SKILLS ASSESSMENT":c=(O=f.digitalSkills.scores[i])==null?void 0:O.score,h=(($=f.digitalSkills.scores[i])==null?void 0:$.responses)||[];break;case"TECHNOLOGY READINESS INDEX":c=(P=f.technologyReadiness.categories[i])==null?void 0:P.average;break;case"IT READINESS ASSESSMENT":c=(se=(Z=f.itReadiness)==null?void 0:Z.categories[i])==null?void 0:se.score;break;case"ICT CHANGE MANAGEMENT":c=(re=(te=f.changeManagement)==null?void 0:te.categories[i])==null?void 0:re.score;break}const C=c>=80?"bg-green-100 border-green-300":c>=50?"bg-blue-50 border-blue-200":c>=30?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200";return e.jsxs("div",{className:`p-4 rounded-lg border ${C} hover:shadow-md cursor-pointer transition-all duration-200`,children:[e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:d}),e.jsxs("div",{className:"text-lg font-semibold text-[#0036C5]",children:[c==null?void 0:c.toFixed(2),"%"]}),n==="DIGITAL SKILLS ASSESSMENT"&&(h==null?void 0:h.length)>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("button",{onClick:()=>{L(N=>N.includes(`${n}-${i}`)?N.filter(A=>A!==`${n}-${i}`):[...N,`${n}-${i}`])},className:"text-xs text-blue-600 hover:underline",children:p.includes(`${n}-${i}`)?"Hide Details":"View Office Responses"}),p.includes(`${n}-${i}`)&&e.jsx("div",{className:"mt-2 text-xs bg-white p-2 rounded border",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-1",children:"Office"}),e.jsx("th",{className:"text-right py-1",children:"Rating (0-5)"})]})}),e.jsx("tbody",{children:F.filter(N=>N!=="All Offices").map((N,A)=>{const V=N==="Mayor's Office"?"Mayors Office":N;let H=0;if(["Mayor's Office","HR Office","IT Office"].includes(N)){const T=y[V==="Mayor's Office"?"Mayors Office":V],D=T==null?void 0:T.find(j=>{var Q,_;return((Q=j["LGU Name"])==null?void 0:Q.toUpperCase())===((_=l["LGU Name"])==null?void 0:_.toUpperCase())});H=Number((D==null?void 0:D[`Question ${i+1} DigitalSkillsAssessment`])||0)}else{let E=y["Other Offices"].find(T=>{var D,j;return((D=T["LGU Name"])==null?void 0:D.toUpperCase())===((j=l["LGU Name"])==null?void 0:j.toUpperCase())&&T["Office Name"]===N});H=Number((E==null?void 0:E[`Question ${i+1}DigitalSkillsAssessment`])||0)}return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-1",children:N}),e.jsx("td",{className:"text-right py-1",children:e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${H/5*100}%`}})}),H]})})]},A)})})]})})]}),n==="TECHNOLOGY READINESS INDEX"&&e.jsxs("div",{className:"mt-2",children:[e.jsx("button",{onClick:()=>{L(N=>N.includes(`${n}-${i}`)?N.filter(A=>A!==`${n}-${i}`):[...N,`${n}-${i}`])},className:"text-xs text-blue-600 hover:underline",children:p.includes(`${n}-${i}`)?"Hide Questions":"View Questions"}),p.includes(`${n}-${i}`)&&e.jsx("div",{className:"mt-2 text-xs bg-white p-2 rounded border",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-1",children:"Question"}),e.jsx("th",{className:"text-right py-1",children:"Average Score"})]})}),e.jsx("tbody",{children:k[1].questions[d.split(" ")[0]].map((N,A)=>{const H=Se(F,d.split(" ")[0],A+1,l)/5*100;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-t hover:bg-gray-50 cursor-pointer",onClick:()=>{L(E=>E.includes(`${n}-${i}-${A}`)?E.filter(T=>T!==`${n}-${i}-${A}`):[...E,`${n}-${i}-${A}`])},children:[e.jsx("td",{className:"py-1",children:N}),e.jsx("td",{className:"text-right py-1",children:e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${H}%`}})}),H.toFixed(1),"%"]})})]},A),p.includes(`${n}-${i}-${A}`)&&e.jsx("tr",{children:e.jsx("td",{colSpan:2,children:e.jsx("div",{className:"pl-4 py-2 bg-gray-50",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-1",children:"Office"}),e.jsx("th",{className:"text-right py-1",children:"Rating (0-5)"})]})}),e.jsx("tbody",{children:F.filter(E=>E!=="All Offices").map((E,T)=>{var Q;const D=E==="Mayor's Office"?"Mayors Office":E;let j=0;if(["Mayor's Office","HR Office","IT Office"].includes(E)){let _=(Q=y[D==="Mayor's Office"?"Mayors Office":D])==null?void 0:Q.find(J=>{var Y,W;return((Y=J["LGU Name"])==null?void 0:Y.toUpperCase())===((W=l["LGU Name"])==null?void 0:W.toUpperCase())});j=Number((_==null?void 0:_[`${d.split(" ")[0]} ${A+1}`])||0)}else{let _=y["Other Offices"].find(J=>{var Y,W;return((Y=J["LGU Name"])==null?void 0:Y.toUpperCase())===((W=l["LGU Name"])==null?void 0:W.toUpperCase())&&J["Office Name"]===E});j=Number((_==null?void 0:_[`${d.split(" ")[0]} ${A+1}`])||0)}return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-1",children:E}),e.jsx("td",{className:"text-right py-1",children:e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${j/5*100}%`}})}),j]})})]},T)})})]})})})})]})})})]})})]}),(n==="IT READINESS ASSESSMENT"||n==="ICT CHANGE MANAGEMENT")&&e.jsxs("div",{className:"mt-2",children:[e.jsx("button",{onClick:()=>{L(N=>N.includes(`${n}-${i}`)?N.filter(A=>A!==`${n}-${i}`):[...N,`${n}-${i}`])},className:"text-xs text-blue-600 hover:underline",children:p.includes(`${n}-${i}`)?"Hide Questions":"View Questions"}),p.includes(`${n}-${i}`)&&e.jsx("div",{className:"mt-2 text-xs bg-white p-2 rounded border",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-1",children:"Question"}),e.jsx("th",{className:"text-right py-1",children:"Score"})]})}),e.jsx("tbody",{children:(ae=k.find(N=>N.title===n))==null?void 0:ae.questions[d.split(" (")[0]].map((N,A)=>{let V=0;const H=n==="IT READINESS ASSESSMENT"?`${d.split(" (")[0].replace(/ /g," ")} ${A+1}`:`${d.split(" (")[0]} ${A+1}`;let E=y["IT Office"].find(D=>{var j,Q;return((j=D["LGU Name"])==null?void 0:j.toUpperCase())===((Q=l["LGU Name"])==null?void 0:Q.toUpperCase())});V=Number((E==null?void 0:E[H])||0);const T=V/5*100;return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-1",children:N}),e.jsx("td",{className:"text-right py-1",children:e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${T}%`}})}),T.toFixed(1),"%"]})})]},A)})})]})})]})]},i)})})]})]}),e.jsx("div",{className:"bg-white p-6 col-span-1 rounded-lg shadow",children:e.jsx("div",{className:"h-[500px]",children:e.jsx(Ae,{data:o,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Score (%)"}}},plugins:{legend:{position:"top"},title:{display:!0,text:`${n} Breakdown${U!=="All Offices"?` - ${U}`:""}`}}}})})})]})})]})};return e.jsx("div",{className:"min-h-full w-full py-10 flex items-center justify-center",children:e.jsxs("div",{className:"p-5 h-full  w-[95%] flex flex-col bg-card/25 border border-border border-b-0 rounded-lg",children:[e.jsx("h1",{className:"py-4 px-2 text-center font-bold text-xl mb-4 border text-[#0036C5] border-[#0036C5]",children:`${l["LGU Name"]}, ${l.Province}`}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex relative justify-between md:items-end items-center md:flex-col",children:[e.jsx("div",{className:"w-[80%] md:w-full ",children:e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsx(K,{span:"2",label:"Municipality",value:l["LGU Name"]}),e.jsx(K,{label:"Income Class",value:l["Income Class"]}),e.jsx(K,{label:"Mayor",value:l.Mayor}),e.jsx(K,{label:"Vice Mayor",value:l["Vice Mayor"]}),e.jsx(K,{label:"Population",value:l["No. of Population"]}),e.jsx(K,{label:"Barangays",value:l["No. of Barangays"]}),e.jsx("div",{children:e.jsx(K,{label:"Location",value:`${l.Latitude}° N, ${l.Longitude}° E`})})]})}),e.jsxs("h1",{className:" absolute right-0 bottom-0 md:left-0 font-black text-6xl text-[#a8b6cb]",children:[l["LGU Name"]," "]}),e.jsx(Ee,{score:Math.round(v)})]})}),e.jsx("div",{className:"border-b w-full border-gray-200",children:e.jsx("nav",{className:"flex",children:["About","Assessment","Attachments"].map(o=>e.jsx("button",{onClick:()=>G(o),className:`mr-4 md:mr-8 py-3 md:py-4 px-1 text-sm md:text-base ${S===o?"border-b-2 border-red-500 text-red-500 font-medium":"text-gray-500 hover:text-gray-700 border-transparent"}`,children:o},o))})}),e.jsxs("div",{className:"py-4 md:py-6 w-full md:w-full",children:[S==="About"&&e.jsx("div",{className:"flex flex-col md:flex-row",children:e.jsx("div",{className:"w-full  pr-0 md:pr-6",children:e.jsx("p",{className:"mb-4 text-sm md:text-base",children:l.descriptioon})})}),S==="Assessment"&&b(),S==="Attachments"&&e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Attachments"})]})]})})}const K=({label:a,value:s,span:l})=>e.jsxs("div",{className:`bg-gray-50 p-4 rounded-lg border border-border col-span-${l||1}`,children:[e.jsx("div",{className:"text-sm text-gray-700 mb-1",children:a}),e.jsx("div",{className:"font-bold text-lg",children:s})]}),Ee=({score:a})=>e.jsxs("div",{className:"w-1/2 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"text-xl font-bold text-[#0036C5] mb-2",children:"Score"}),e.jsxs("div",{className:"relative w-40 h-40",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[e.jsx("circle",{cx:"80",cy:"80",r:"70",fill:"none",stroke:"#ecc216",strokeWidth:"8"}),e.jsx("circle",{cx:"80",cy:"80",r:"70",fill:"none",stroke:"#0036C5",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${a/100*439.6} 439.6`})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-5xl font-bold",style:{color:a>=50?"#0036c6":"#ecc216"},children:[a,"%"]})})]})]}),ne=a=>{const s=a.reduce((I,v)=>I+Number(v||0),0),l=a.length*5;return s/l*100},X=a=>{const s=a.filter(l=>l!=null);return s.length?s.reduce((l,I)=>l+I,0)/s.length:0},ge=(a,s)=>{let l=[];if(s.forEach(r=>{var t,g;if(r==="Other Offices"){const b=(t=y[r])==null?void 0:t.filter(o=>{var u;return((u=o["LGU Name"])==null?void 0:u.toUpperCase())===(a==null?void 0:a.toUpperCase())});b&&l.push(...b)}else{const o=(g=y[r])==null?void 0:g.filter(u=>{var m;return((m=u["LGU Name"])==null?void 0:m.toUpperCase())===(a==null?void 0:a.toUpperCase())});o&&l.push(...o)}}),console.log("Offices Data:",l),!l.length)return null;const I=Array.from({length:10},(r,t)=>{const g=`Question ${t+1} DigitalSkillsAssessment`,b=l.map(d=>Number(d[g]||0)),o=b.reduce((d,i)=>d+i,0),u=b.length*5,m=o/u*100;return{question:g,responses:b,score:m}}),v=(r,t)=>{const g=l.flatMap(u=>Array.from({length:t},(m,d)=>Number(u[`${r} ${d+1}`]||0))),b=g.reduce((u,m)=>u+m,0),o=g.length*5;return b/o*100},R=v("Optimism",10),S=v("Innovativeness",7),G=v("Discomfort",10),p=v("Insecurity",9),L=[{category:"Optimism",average:R},{category:"Innovativeness",average:S},{category:"Discomfort",average:G},{category:"Insecurity",average:p}],f=y["IT Office"].find(r=>r["LGU Name"]===a),q={"BASIC IT READINESS":Array.from({length:4},(r,t)=>`BASIC IT READINESS ${t+1}`),"IT GOVERNANCE FRAMEWORK & POLICIES":Array.from({length:3},(r,t)=>`IT GOVERNANCE FRAMEWORK & POLICIES ${t+1}`),"IT STRATEGY AND ALIGNMENT":Array.from({length:3},(r,t)=>`IT STRATEGY AND ALIGNMENT ${t+1}`),"IT POLICIES AND PROCEDURES":Array.from({length:3},(r,t)=>`IT POLICIES AND PROCEDURES ${t+1}`),"RISK MANAGEMENT":Array.from({length:3},(r,t)=>`RISK MANAGEMENT ${t+1}`),"IT PERFORMANCE MEASUREMENT AND REPORTING":Array.from({length:3},(r,t)=>`IT PERFORMANCE MEASUREMENT AND REPORTING ${t+1}`),"IT INVESTMENT MANAGEMENT":Array.from({length:3},(r,t)=>`IT INVESTMENT MANAGEMENT ${t+1}`),"VENDOR MANAGEMENT":Array.from({length:3},(r,t)=>`VENDOR MANAGEMENT ${t+1}`),"IT SECURITY AND COMPLIANCE":Array.from({length:3},(r,t)=>`IT SECURITY AND COMPLIANCE ${t+1}`),"ICT Organizational Structure and Skills":Array.from({length:3},(r,t)=>`ICT Organizational Structure and Skills ${t+1}`),"Audit and Assurance":Array.from({length:3},(r,t)=>`Audit and Assurance ${t+1}`),"Network Infrastructure":Array.from({length:2},(r,t)=>`Network Infrastructure ${t+1}`),"Servers and Storage":Array.from({length:3},(r,t)=>`Servers and Storage ${t+1}`),Virtualization:Array.from({length:3},(r,t)=>`Virtualization ${t+1}`),"Data Backup and Recovery":Array.from({length:3},(r,t)=>`Data Backup and Recovery ${t+1}`),"Scalability and Elasticity":Array.from({length:3},(r,t)=>`Scalability and Elasticity ${t+1}`),"Security Measures":Array.from({length:4},(r,t)=>`Security Measures ${t+1}`),"Monitoring and Performance":Array.from({length:3},(r,t)=>`Monitoring and Performance ${t+1}`),"Compliance and Governance":Array.from({length:3},(r,t)=>`Compliance and Governance ${t+1}`),"Integration and Interoperability":Array.from({length:3},(r,t)=>`Integration and Interoperability ${t+1}`),"Disaster Recovery and Business Continuity":Array.from({length:3},(r,t)=>`Disaster Recovery and Business Continuity ${t+1}`)},x=Object.entries(q).map(([r,t])=>{const g=t.map(o=>Number((f==null?void 0:f[o])||0)),b=ne(g);return{category:r,score:b}});let M=0;x.map(r=>M+=r.score),console.log("IT Readiness Scores:",x),M=M/21,console.log("IT Readiness Scores:",M);const n={"CHANGE READINESS":Array.from({length:3},(r,t)=>`CHANGE READINESS ${t+1}`),"CHANGE LEADERSHIP":Array.from({length:2},(r,t)=>`CHANGE LEADERSHIP ${t+1}`),"CHANGE COMMUNICATION":Array.from({length:3},(r,t)=>`CHANGE COMMUNICATION ${t+1}`),"CHANGE IMPACT ASSESSMENT":Array.from({length:3},(r,t)=>`CHANGE IMPACT ASSESSMENT ${t+1}`),"STAKEHOLDER ENGAGEMENT":Array.from({length:3},(r,t)=>`STAKEHOLDER ENGAGEMENT ${t+1}`),"CHANGE PLANNING AND EXECUTION":Array.from({length:3},(r,t)=>`CHANGE PLANNING AND EXECUTION ${t+1}`),"TRAINING AND DEVELOPMENT":Array.from({length:3},(r,t)=>`TRAINING AND DEVELOPMENT ${t+1}`),"Resistance Management":Array.from({length:3},(r,t)=>`Resistance Management ${t+1}`),"Evaluation and Continuous Improvement":Array.from({length:3},(r,t)=>`Evaluation and Continuous Improvement ${t+1}`),"Sustainability and Embedding":Array.from({length:3},(r,t)=>`Sustainability and Embedding ${t+1}`),"Costs or Financial":Array.from({length:5},(r,t)=>`Costs or Financial ${t+1}`)},z=Object.entries(n).map(([r,t])=>({category:r,score:ne(t.map(g=>Number((f==null?void 0:f[g])||0)))})),F=L.map(r=>({...r,average:r.average}));console.log("categoryAverages :",F);const B=X(x.map(r=>r.score)),U=X(z.map(r=>r.score)),ee=(X(I.map(r=>r.score))+(R+S+G+p)/4+B+U)/4;return{digitalSkills:{scores:I,average:X(I.map(r=>r.score))},technologyReadiness:{categories:L,average:(R+S+G+p)/4},itReadiness:{categories:x,average:B},changeManagement:{categories:z,average:U},totalScore:Math.round(ee*100)/100,componentScores:{digitalSkills:Math.round(X(I.map(r=>r.score))*100)/100,techReadiness:Math.round((R+S+G+p)/4*100)/100,itReadiness:Math.round(B*100)/100,changeManagement:Math.round(U*100)/100}}},k=[{title:"DIGITAL SKILLS ASSESSMENT",data:["Basic computer skill","Basic Internet searching","General computer or office productivity software use","Use of collaborative platforms","Use of communication apps","Use of social media","Content creation","Cybersecurity awareness","Programming, web, and app dev...","Digital design and data vi..."]},{title:"TECHNOLOGY READINESS INDEX",data:["Optimism (10 questions)","Innovativeness (7 questions)","Discomfort (10 questions)","Insecurity (9 questions)"],questions:{Optimism:Array.from({length:10},(a,s)=>`Q${s+1}`),Innovativeness:Array.from({length:7},(a,s)=>`Q${s+1}`),Discomfort:Array.from({length:10},(a,s)=>`Q${s+1}`),Insecurity:Array.from({length:9},(a,s)=>`Q${s+1}`)}},{title:"IT READINESS ASSESSMENT",data:["BASIC IT READINESS (4 questions)","IT GOVERNANCE FRAMEWORK & POLICIES (3 questions)","IT STRATEGY AND ALIGNMENT (3 questions)","IT POLICIES AND PROCEDURES (3 questions)","RISK MANAGEMENT (3 questions)","IT PERFORMANCE MEASUREMENT AND REPORTING (3 questions)","IT INVESTMENT MANAGEMENT (3 questions)","VENDOR MANAGEMENT (3 questions)","IT SECURITY AND COMPLIANCE (3 questions)","ICT Organizational Structure and Skills (3 questions)","Audit and Assurance (3 questions)","Network Infrastructure (2 questions)","Servers and Storage (3 questions)","Virtualization (3 questions)","Data Backup and Recovery (3 questions)","Scalability and Elasticity (3 questions)","Security Measures (4 questions)","Monitoring and Performance (3 questions)","Compliance and Governance (3 questions)","Integration and Interoperability (3 questions)","Disaster Recovery and Business Continuity (3 questions)"],questions:{"BASIC IT READINESS":Array.from({length:4},(a,s)=>`Q${s+1}`),"IT GOVERNANCE FRAMEWORK & POLICIES":Array.from({length:3},(a,s)=>`Q${s+1}`),"IT STRATEGY AND ALIGNMENT":Array.from({length:3},(a,s)=>`Q${s+1}`),"IT POLICIES AND PROCEDURES":Array.from({length:3},(a,s)=>`Q${s+1}`),"RISK MANAGEMENT":Array.from({length:3},(a,s)=>`Q${s+1}`),"IT PERFORMANCE MEASUREMENT AND REPORTING":Array.from({length:3},(a,s)=>`Q${s+1}`),"IT INVESTMENT MANAGEMENT":Array.from({length:3},(a,s)=>`Q${s+1}`),"VENDOR MANAGEMENT":Array.from({length:3},(a,s)=>`Q${s+1}`),"IT SECURITY AND COMPLIANCE":Array.from({length:3},(a,s)=>`Q${s+1}`),"ICT Organizational Structure and Skills":Array.from({length:3},(a,s)=>`Q${s+1}`),"Audit and Assurance":Array.from({length:3},(a,s)=>`Q${s+1}`),"Network Infrastructure":Array.from({length:2},(a,s)=>`Q${s+1}`),"Servers and Storage":Array.from({length:3},(a,s)=>`Q${s+1}`),Virtualization:Array.from({length:3},(a,s)=>`Q${s+1}`),"Data Backup and Recovery":Array.from({length:3},(a,s)=>`Q${s+1}`),"Scalability and Elasticity":Array.from({length:3},(a,s)=>`Q${s+1}`),"Security Measures":Array.from({length:4},(a,s)=>`Q${s+1}`),"Monitoring and Performance":Array.from({length:3},(a,s)=>`Q${s+1}`),"Compliance and Governance":Array.from({length:3},(a,s)=>`Q${s+1}`),"Integration and Interoperability":Array.from({length:3},(a,s)=>`Q${s+1}`),"Disaster Recovery and Business Continuity":Array.from({length:3},(a,s)=>`Q${s+1}`)}},{title:"ICT CHANGE MANAGEMENT",data:["CHANGE READINESS (3 questions)","CHANGE LEADERSHIP (2 questions)","CHANGE COMMUNICATION (3 questions)","CHANGE IMPACT ASSESSMENT (3 questions)","STAKEHOLDER ENGAGEMENT (3 questions)","CHANGE PLANNING AND EXECUTION (3 questions)","TRAINING AND DEVELOPMENT (3 questions)","Resistance Management (3 questions)","Evaluation and Continuous Improvement (3 questions)","Sustainability and Embedding (3 questions)","Costs or Financial (5 questions)"],questions:{"CHANGE READINESS":Array.from({length:3},(a,s)=>`Q${s+1}`),"CHANGE LEADERSHIP":Array.from({length:2},(a,s)=>`Q${s+1}`),"CHANGE COMMUNICATION":Array.from({length:3},(a,s)=>`Q${s+1}`),"CHANGE IMPACT ASSESSMENT":Array.from({length:3},(a,s)=>`Q${s+1}`),"STAKEHOLDER ENGAGEMENT":Array.from({length:3},(a,s)=>`Q${s+1}`),"CHANGE PLANNING AND EXECUTION":Array.from({length:3},(a,s)=>`Q${s+1}`),"TRAINING AND DEVELOPMENT":Array.from({length:3},(a,s)=>`Q${s+1}`),"Resistance Management":Array.from({length:3},(a,s)=>`Q${s+1}`),"Evaluation and Continuous Improvement":Array.from({length:3},(a,s)=>`Q${s+1}`),"Sustainability and Embedding":Array.from({length:3},(a,s)=>`Q${s+1}`),"Costs or Financial":Array.from({length:5},(a,s)=>`Q${s+1}`)}}],Se=(a,s,l,I)=>{let v=0,R=0;return a.filter(S=>S!=="All Offices").forEach(S=>{var p,L;let G=null;if(["Mayor's Office","HR Office","IT Office"].includes(S)?G=(p=y[S==="Mayor's Office"?"Mayors Office":S])==null?void 0:p.find(x=>{var M,n;return((M=x["LGU Name"])==null?void 0:M.toUpperCase())===((n=I["LGU Name"])==null?void 0:n.toUpperCase())}):G=(L=y["Other Offices"])==null?void 0:L.find(f=>{var q,x,M;return((q=f["LGU Name"])==null?void 0:q.toUpperCase())===((x=I["LGU Name"])==null?void 0:x.toUpperCase())&&((M=f["Office Name"])==null?void 0:M.trim())===S.trim()}),G){const f=Number(G[`${s} ${l}`]||0);f>0&&(v+=f,R++)}}),R>0?v/R:0};export{xe as default};
